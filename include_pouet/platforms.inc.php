<?
if ($_GET["regeneratePlatforms"])
{
  require_once("../include_generic/sqllib.inc.php");
  $rows = SQLLIB::selectRows("select * from platforms");
  $platforms = array();
  foreach($rows as $r)
  {
    $platforms[ $r->id ] = get_object_vars($r);
    unset($platforms[ $r->id ]["id"]);
    $platforms[ $r->id ]["slug"] = strtolower(preg_replace("/[^a-zA-Z0-9]+/","",$platforms[ $r->id ]["name"]));
  }
  ksort($platforms);
  var_export($platforms);
  foreach($platforms as $p)
    printf(".os_%s { background: url('http://www.pouet.net/gfx/os/%s'); }\n",$p["slug"],$p["icon"]);
  exit();
}

$PLATFORMS = array (
  65 =>
  array (
    'name' => 'BeOS',
    'icon' => 'k_beos.gif',
    'slug' => 'beos',
  ),
  66 =>
  array (
    'name' => 'Linux',
    'icon' => 'k_linux.gif',
    'slug' => 'linux',
  ),
  67 =>
  array (
    'name' => 'MS-Dos',
    'icon' => 'k_msdos.gif',
    'slug' => 'msdos',
  ),
  68 =>
  array (
    'name' => 'Windows',
    'icon' => 'k_win.gif',
    'slug' => 'windows',
  ),
  69 =>
  array (
    'name' => 'MS-Dos/gus',
    'icon' => 'k_gus.gif',
    'slug' => 'msdosgus',
  ),
  70 =>
  array (
    'name' => 'Atari ST',
    'icon' => 'k_atari_st.gif',
    'slug' => 'atarist',
  ),
  71 =>
  array (
    'name' => 'Amiga AGA',
    'icon' => 'k_amiga_aga.gif',
    'slug' => 'amigaaga',
  ),
  72 =>
  array (
    'name' => 'Atari STe',
    'icon' => 'k_atari_ste.gif',
    'slug' => 'atariste',
  ),
  73 =>
  array (
    'name' => 'Amiga OCS/ECS',
    'icon' => 'k_amiga.gif',
    'slug' => 'amigaocsecs',
  ),
  74 =>
  array (
    'name' => 'Java',
    'icon' => 'k_java.gif',
    'slug' => 'java',
  ),
  75 =>
  array (
    'name' => 'Playstation',
    'icon' => 'k_ps1.gif',
    'slug' => 'playstation',
  ),
  76 =>
  array (
    'name' => 'Commodore 64',
    'icon' => 'k_commodore.gif',
    'slug' => 'commodore64',
  ),
  77 =>
  array (
    'name' => 'Wild',
    'icon' => 'k_wild.gif',
    'slug' => 'wild',
  ),
  78 =>
  array (
    'name' => 'Amstrad CPC',
    'icon' => 'k_cpc.gif',
    'slug' => 'amstradcpc',
  ),
  79 =>
  array (
    'name' => 'Amiga PPC/RTG',
    'icon' => 'k_amiga_ppc.gif',
    'slug' => 'amigappcrtg',
  ),
  80 =>
  array (
    'name' => 'Atari Falcon 030',
    'icon' => 'k_atari_falcon.gif',
    'slug' => 'atarifalcon030',
  ),
  81 =>
  array (
    'name' => 'Gameboy',
    'icon' => 'k_gameboy.gif',
    'slug' => 'gameboy',
  ),
  82 =>
  array (
    'name' => 'ZX Spectrum',
    'icon' => 'k_zx.gif',
    'slug' => 'zxspectrum',
  ),
  83 =>
  array (
    'name' => 'MacOSX',
    'icon' => 'k_macb.gif',
    'slug' => 'macosx',
  ),
  84 =>
  array (
    'name' => 'MacOS',
    'icon' => 'k_mac.gif',
    'slug' => 'macos',
  ),
  85 =>
  array (
    'name' => 'Gameboy Advance',
    'icon' => 'k_gba.gif',
    'slug' => 'gameboyadvance',
  ),
  86 =>
  array (
    'name' => 'Gameboy Color',
    'icon' => 'k_gbc.gif',
    'slug' => 'gameboycolor',
  ),
  87 =>
  array (
    'name' => 'Dreamcast',
    'icon' => 'k_dreamcast.gif',
    'slug' => 'dreamcast',
  ),
  88 =>
  array (
    'name' => 'SNES/Super Famicom',
    'icon' => 'k_snes.gif',
    'slug' => 'snessuperfamicom',
  ),
  89 =>
  array (
    'name' => 'SEGA Genesis/Mega Drive',
    'icon' => 'k_megadrive.gif',
    'slug' => 'segagenesismegadrive',
  ),
  90 =>
  array (
    'name' => 'Flash',
    'icon' => 'k_flash.gif',
    'slug' => 'flash',
  ),
  91 =>
  array (
    'name' => 'Oric',
    'icon' => 'k_oric.gif',
    'slug' => 'oric',
  ),
  92 =>
  array (
    'name' => 'Mobile Phone',
    'icon' => 'k_mobiles.gif',
    'slug' => 'mobilephone',
  ),
  93 =>
  array (
    'name' => 'VIC 20',
    'icon' => 'k_vic20.gif',
    'slug' => 'vic20',
  ),
  94 =>
  array (
    'name' => 'Playstation 2',
    'icon' => 'k_ps2.gif',
    'slug' => 'playstation2',
  ),
  95 =>
  array (
    'name' => 'TI-8x',
    'icon' => 'k_ti8x.gif',
    'slug' => 'ti8x',
  ),
  96 =>
  array (
    'name' => 'Atari TT 030',
    'icon' => 'k_tt.gif',
    'slug' => 'ataritt030',
  ),
  97 =>
  array (
    'name' => 'Acorn',
    'icon' => 'k_acorn.gif',
    'slug' => 'acorn',
  ),
  98 =>
  array (
    'name' => 'JavaScript',
    'icon' => 'k_js.gif',
    'slug' => 'javascript',
  ),
  99 =>
  array (
    'name' => 'Alambik',
    'icon' => 'k_alambik.gif',
    'slug' => 'alambik',
  ),
  100 =>
  array (
    'name' => 'NEC TurboGrafx/PC Engine',
    'icon' => 'k_pce.gif',
    'slug' => 'necturbografxpcengine',
  ),
  101 =>
  array (
    'name' => 'XBOX',
    'icon' => 'k_xbox.gif',
    'slug' => 'xbox',
  ),
  102 =>
  array (
    'name' => 'PalmOS',
    'icon' => 'k_palmos.gif',
    'slug' => 'palmos',
  ),
  103 =>
  array (
    'name' => 'Nintendo 64',
    'icon' => 'k_n64.gif',
    'slug' => 'nintendo64',
  ),
  104 =>
  array (
    'name' => 'C16/116/plus4',
    'icon' => 'k_c16.gif',
    'slug' => 'c16116plus4',
  ),
  105 =>
  array (
    'name' => 'PocketPC',
    'icon' => 'k_pocketpc.gif',
    'slug' => 'pocketpc',
  ),
  106 =>
  array (
    'name' => 'PHP',
    'icon' => 'k_php.gif',
    'slug' => 'php',
  ),
  107 =>
  array (
    'name' => 'MSX',
    'icon' => 'k_msx.gif',
    'slug' => 'msx',
  ),
  108 =>
  array (
    'name' => 'GamePark GP32',
    'icon' => 'k_gamepark32.gif',
    'slug' => 'gameparkgp32',
  ),
  109 =>
  array (
    'name' => 'Atari XL/XE',
    'icon' => 'k_atari_xl_xe.gif',
    'slug' => 'atarixlxe',
  ),
  110 =>
  array (
    'name' => 'Intellivision',
    'icon' => 'k_intellivision.gif',
    'slug' => 'intellivision',
  ),
  111 =>
  array (
    'name' => 'Thomson',
    'icon' => 'k_thomson.gif',
    'slug' => 'thomson',
  ),
  112 =>
  array (
    'name' => 'Apple II GS',
    'icon' => 'k_iigs.gif',
    'slug' => 'appleiigs',
  ),
  113 =>
  array (
    'name' => 'SEGA Master System',
    'icon' => 'k_mastersystem.gif',
    'slug' => 'segamastersystem',
  ),
  114 =>
  array (
    'name' => 'NES/Famicom',
    'icon' => 'k_nes.gif',
    'slug' => 'nesfamicom',
  ),
  115 =>
  array (
    'name' => 'Gamecube',
    'icon' => 'k_ngc.gif',
    'slug' => 'gamecube',
  ),
  116 =>
  array (
    'name' => 'GamePark GP2X',
    'icon' => 'k_gp2x.gif',
    'slug' => 'gameparkgp2x',
  ),
  117 =>
  array (
    'name' => 'Atari VCS',
    'icon' => 'k_atari_vcs.gif',
    'slug' => 'atarivcs',
  ),
  118 =>
  array (
    'name' => 'Virtual Boy',
    'icon' => 'k_vb.gif',
    'slug' => 'virtualboy',
  ),
  119 =>
  array (
    'name' => 'BK-0010/11M',
    'icon' => 'k_bk.gif',
    'slug' => 'bk001011m',
  ),
  120 =>
  array (
    'name' => 'Pokemon Mini',
    'icon' => 'k_pokemon.gif',
    'slug' => 'pokemonmini',
  ),
  121 =>
  array (
    'name' => 'SEGA Game Gear',
    'icon' => 'k_gg.gif',
    'slug' => 'segagamegear',
  ),
  122 =>
  array (
    'name' => 'Vectrex',
    'icon' => 'k_vectrex.gif',
    'slug' => 'vectrex',
  ),
  123 =>
  array (
    'name' => 'iOS',
    'icon' => 'k_ipod.gif',
    'slug' => 'ios',
  ),
  124 =>
  array (
    'name' => 'Playstation Portable',
    'icon' => 'k_psp.gif',
    'slug' => 'playstationportable',
  ),
  125 =>
  array (
    'name' => 'Nintendo DS',
    'icon' => 'k_ds.gif',
    'slug' => 'nintendods',
  ),
  126 =>
  array (
    'name' => 'Atari Jaguar',
    'icon' => 'k_jag.gif',
    'slug' => 'atarijaguar',
  ),
  127 =>
  array (
    'name' => 'Wonderswan',
    'icon' => 'k_wonderswan.gif',
    'slug' => 'wonderswan',
  ),
  128 =>
  array (
    'name' => 'NeoGeo Pocket',
    'icon' => 'k_neogeopocket.gif',
    'slug' => 'neogeopocket',
  ),
  131 =>
  array (
    'name' => 'XBOX 360',
    'icon' => 'k_xbox360.gif',
    'slug' => 'xbox360',
  ),
  132 =>
  array (
    'name' => 'Atari Lynx',
    'icon' => 'k_lynx.gif',
    'slug' => 'atarilynx',
  ),
  133 =>
  array (
    'name' => 'C64 DTV',
    'icon' => 'k_dtv.gif',
    'slug' => 'c64dtv',
  ),
  134 =>
  array (
    'name' => 'Amstrad Plus',
    'icon' => 'k_amplus.gif',
    'slug' => 'amstradplus',
  ),
  135 =>
  array (
    'name' => 'FreeBSD',
    'icon' => 'k_freebsd.gif',
    'slug' => 'freebsd',
  ),
  136 =>
  array (
    'name' => 'Solaris',
    'icon' => 'k_solaris.gif',
    'slug' => 'solaris',
  ),
  137 =>
  array (
    'name' => 'Spectravideo 3x8',
    'icon' => 'k_sv.gif',
    'slug' => 'spectravideo3x8',
  ),
  138 =>
  array (
    'name' => 'Apple II',
    'icon' => 'k_apple2.gif',
    'slug' => 'appleii',
  ),
  139 =>
  array (
    'name' => 'MacOSX Intel',
    'icon' => 'k_macosx.gif',
    'slug' => 'macosxintel',
  ),
  140 =>
  array (
    'name' => 'Playstation 3',
    'icon' => 'k_ps3.gif',
    'slug' => 'playstation3',
  ),
  141 =>
  array (
    'name' => 'Nintendo Wii',
    'icon' => 'k_wii.gif',
    'slug' => 'nintendowii',
  ),
  142 =>
  array (
    'name' => 'SGI/IRIX',
    'icon' => 'k_sgi.gif',
    'slug' => 'sgiirix',
  ),
  143 =>
  array (
    'name' => 'BBC Micro',
    'icon' => 'k_bbcmicro.gif',
    'slug' => 'bbcmicro',
  ),
  144 =>
  array (
    'name' => 'MSX 2',
    'icon' => 'k_msx2.gif',
    'slug' => 'msx2',
  ),
  145 =>
  array (
    'name' => 'SAM CoupÃ©',
    'icon' => 'k_samcoupe.gif',
    'slug' => 'samcoup',
  ),
  146 =>
  array (
    'name' => 'TRS-80/CoCo',
    'icon' => 'k_coco.gif',
    'slug' => 'trs80coco',
  ),
  147 =>
  array (
    'name' => 'MSX Turbo-R',
    'icon' => 'k_msxt.gif',
    'slug' => 'msxturbor',
  ),
  148 =>
  array (
    'name' => 'Enterprise',
    'icon' => 'k_ent.gif',
    'slug' => 'enterprise',
  ),
  149 =>
  array (
    'name' => 'MSX 2 plus',
    'icon' => 'k_msx2p.gif',
    'slug' => 'msx2plus',
  ),
  150 =>
  array (
    'name' => 'ZX-81',
    'icon' => 'k_zx81.gif',
    'slug' => 'zx81',
  ),
  151 =>
  array (
    'name' => 'Android',
    'icon' => 'k_android.gif',
    'slug' => 'android',
  ),
  152 =>
  array (
    'name' => 'mIRC',
    'icon' => 'k_mirc.gif',
    'slug' => 'mirc',
  ),
  153 =>
  array (
    'name' => 'Commodore 128',
    'icon' => 'k_c128.gif',
    'slug' => 'commodore128',
  ),
  154 =>
  array (
    'name' => 'Raspberry Pi',
    'icon' => 'k_raspi.gif',
    'slug' => 'raspberrypi',
  ),
  155 =>
  array (
    'name' => 'Sharp MZ',
    'icon' => 'k_sharpmz.gif',
    'slug' => 'sharpmz',
  ),
);
?>
